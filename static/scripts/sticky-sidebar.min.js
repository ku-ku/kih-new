!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).StickySidebar=e()}(this,(function(){"use strict";function t(t,e){void 0===e&&(e={}),this._init(t,e)}return function(t){t.prototype._init=function(t,e){var o=this;o.$el=t,o.$options=Object.assign({},{offsetTop:15,offsetBottom:15},e),function(t){t._handleUpdateBound=null}(o),function(t){t._scrollDirection="bottom",t._scrollTop=0,t._windowHeight=0,t._elementHeight=0,t._elementWidth=0,t._elementOffsetTop=0,t._parentHeight=0,t._parentOffsetTop=0}(o),o._update(),o._setupEventHandlers()}}(t),function(t){t.prototype._setupEventHandlers=function(){var t=this;t._handleUpdateBound=t._handleUpdate.bind(t),window.addEventListener("scroll",t._handleUpdateBound),window.addEventListener("resize",t._handleUpdateBound)},t.prototype._removeEventHandlers=function(){window.addEventListener("scroll",this._handleUpdateBound),window.addEventListener("resize",this._handleUpdateBound)},t.prototype._handleUpdate=function(){this._update()},t.prototype.destroy=function(){this._removeEventHandlers()}}(t),function(t){t.prototype._update=function(){var t=this;t._updateScrollParams(),t._parentHeight<=t._elementHeight||("bottom"===t._scrollDirection?t._scrollToBottom():"top"===t._scrollDirection&&t._scrollToTop())},t.prototype._fixedElementToBottom=function(){var t=this;t.$el.style.width=t._elementWidth+"px",t.$el.style.top="",t.$el.style.bottom=t.$options.offsetBottom+"px",t.$el.style.marginTop="",t.$el.style.position="fixed"},t.prototype._fixedElementToMarginTop=function(){var t=this;t.$el.style.width=t._elementWidth+"px",t.$el.style.top="",t.$el.style.bottom="",t.$el.style.marginTop=t._elementOffsetTop-t._parentOffsetTop+"px",t.$el.style.position=""},t.prototype._fixedElementToMarginBottom=function(){var t=this;t.$el.style.width=t._elementWidth+"px",t.$el.style.top="",t.$el.style.bottom="",t.$el.style.marginTop=t._parentHeight-t._elementHeight+"px",t.$el.style.position=""},t.prototype._fixedElementToTop=function(){var t=this;t.$el.style.width=t._elementWidth+"px",t.$el.style.top=t.$options.offsetTop+"px",t.$el.style.bottom="",t.$el.style.marginTop="",t.$el.style.position="fixed"},t.prototype._clearElement=function(){var t=this;t.$el.style.width="",t.$el.style.top="",t.$el.style.bottom="",t.$el.style.marginTop="",t.$el.style.position=""},t.prototype.updateOffsetTop=function(t){this.$options.offsetTop=parseInt(t)},t.prototype.updateOffsetBottom=function(t){this.$options.offsetBottom=parseInt(t)}}(t),function(t){t.prototype._updateScrollParams=function(){var t=this,e=window.pageYOffset||document.documentElement.scrollTop;t._scrollDirection=t._scrollTop<e?"bottom":"top",t._scrollTop=e,t._windowHeight=window.innerHeight||document.documentElement.clientHeight;var o=window.getComputedStyle(t.$el);t._elementHeight=parseInt(o.height),t._elementOffsetTop=t._offset().top;var n=t.$el.parentNode||null;if(n){var i=window.getComputedStyle(n);t._elementWidth=parseInt(i.width),t._parentHeight=parseInt(i.height),t._parentOffsetTop=t._offset(n).top}},t.prototype._scrollToBottom=function(){var t=this,e=t._parentHeight+t._parentOffsetTop-t._scrollTop>t._elementHeight+t.$options.offsetTop+t.$options.offsetBottom;t._getBottomSpace()>0&&e?0===t._getHeightBottomSpace()?t._elementHeight+t.$options.offsetTop+t.$options.offsetBottom<=t._windowHeight?t._scrollTop>t._elementOffsetTop-t.$options.offsetTop&&t._fixedElementToTop():t._fixedElementToBottom():t._fixedElementToMarginTop():t._fixedElementToMarginBottom()},t.prototype._scrollToTop=function(){var t=this;t._getTopSpace()>0?0===t._getHeightTopSpace()?t._fixedElementToTop():t._fixedElementToMarginTop():t._clearElement()}}(t),function(t){t.prototype._offset=function(t){if(t||(t=this.$el),!t.getClientRects().length)return{top:0,left:0};var e=t.getBoundingClientRect(),o=t.ownerDocument.defaultView;return{top:e.top+o.pageYOffset,left:e.left+o.pageXOffset}},t.prototype._getTopSpace=function(){return Math.max(0,this._elementOffsetTop-this._parentOffsetTop)},t.prototype._getBottomSpace=function(){var t=this;return Math.max(0,t._parentOffsetTop+t._parentHeight-(t._elementOffsetTop+t._elementHeight))},t.prototype._getHeightBottomSpace=function(){var t=this;return Math.max(0,t._elementOffsetTop+t._elementHeight+t.$options.offsetBottom-(t._scrollTop+t._windowHeight))},t.prototype._getHeightTopSpace=function(){var t=this;return Math.max(0,t._scrollTop-t._elementOffsetTop+t.$options.offsetTop)}}(t),t}));
